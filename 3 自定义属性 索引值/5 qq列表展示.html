<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>qq列表展示</title>
<style type="text/css">
	ul,h2{padding: 0;margin:0;}
	li{list-style: none;}
	#list{width: 240px;border: 1px solid #333;margin: 0 auto;}
	#list .lis{}
	#list h2{height: 30px;line-height: 30px;text-indent: 20px;background: url(img/ico1.gif)no-repeat 5px center #6ff;color: #000;}
	#list .active{background: url(img/ico2.gif)no-repeat 5px center #ff9;color: #000;}
	#list ul{display: none;}
	#list ul li{line-height: 24px;border-bottom: 1px solid #333;}
	#list ul .hover{background: #6ff;}
</style>
</head>
<body>
<ul id="list">
	<li class="lis">
		<h2>我的好友</h2>
		<ul>
			<li>张三</li>
			<li>李四</li>
			<li>王五</li>
		</ul>
	</li>
		<li class="lis">
		<h2>我的企业</h2>
		<ul>
			<li>张飞</li>
			<li>李逵</li>
			<li>刘备</li>
		</ul>
	</li>
		<li class="lis">
		<h2>我的同学</h2>
		<ul>
			<li>朱元璋</li>
			<li>朱重八</li>
			<li>洪武大帝</li>
		</ul>
	</li>
		<li class="lis">
		<h2>黑名单</h2>
		<ul>
			<li>谢飞机</li>
			<li>谢大脚</li>
			<li>谢谢</li>
		</ul>
	</li>
</ul>
<script type="text/javascript">
	var oUl = document.getElementById('list');
	var aH2 = oUl.getElementsByTagName('h2');
	var aUl = oUl.getElementsByTagName('ul');
	var aLi = null;
	var arrLi = [];

	for (var i = 0; i < aH2.length; i++) {
		aH2[i].index = i;
		aH2[i].onclick = function(){

			//	关闭上一个打开的h2
			for( var i=0; i<aH2.length; i++ ){
				if( i != this.index ){
					aUl[i].style.display = 'none';
					aH2[i].className = '';
				}
			}

			if (this.className == "") {
				aUl[this.index].style.display = 'block';
				this.className = 'active';
			}else{
				aUl[this.index].style.display = 'none';
				this.className = '';
			}
		}
	}

	//	找到ul中所有的li
	for (var i = 0; i < aUl.length; i++) {
		aLi = aUl[i].getElementsByTagName('li');
		for (var j = 0; j < aLi.length;j++) {
			arrLi.push(aLi[j]);
		}
	}

	//	li的点击事件
	for (var i = 0; i < arrLi.length; i++) {
		arrLi[i].onclick = function(){
			if (this.className == 'hover') {
				this.className = '';
			}else{
				for (var i = 0; i < arrLi.length; i++) {
				arrLi[i].className = '';
				}
				this.className = 'hover';
			}
		}
	}
</script>
</body>
</html>